這段程式碼嘗試使用DFS(深度優先搜尋)來找出圖中的連通塊，並輸出連通塊數量-1和連接連通塊的邊的集合。但是，這段程式碼並不能解決上述問題，因為它假設所有的城市都在同一連通塊中。

解決這個問題的正確做法是使用Kruskal演算法來找出最小生成樹。

Kruskal演算法的步驟如下：

1. 將所有邊按照权值排序。
2. 依次考虑每一条边，如果加入这条边不会形成环，就加入这条边。
3. 重复步驟2，直到所有的边都被考虑完。

在Kruskal演算法中，我們可以使用并查集(Disjoint-Set)來维护各个节点所在的连通块。

可以看看這篇博客來了解更多有關Kruskal演算法的知識：

<https://www.cnblogs.com/ET2006/p/6869367.html>

